<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart</title>
    <!-- Add your PayPal SDK script here -->
</head>

<body>
    <h1>Your Shopping Cart</h1>

    <div id="cart-content">
        <!-- Cart items will be displayed here dynamically -->
    </div>

    <p>Total Price: $<span id="total-price">0.00</span></p>

    <div id="paypal-button-container"></div>

    <script>
        // Fetch and display cart items
        var cart = JSON.parse(localStorage.getItem('cart')) || [];
        var totalPrice = 0;

        var cartContent = document.getElementById('cart-content');
        var totalPriceElement = document.getElementById('total-price');

        cart.forEach(function (item) {
            var itemInfo = document.createElement('p');
            itemInfo.textContent = 'Size: ' + item.size + ', Item: ' + item.itemName + ', Price: $' + item.price.toFixed(2);
            cartContent.appendChild(itemInfo);

            totalPrice += item.price;
        });

        totalPriceElement.textContent = totalPrice.toFixed(2);
    </script>

    <!-- Include the PayPal SDK script -->
    <!-- For example, you can use the following script (replace with your actual SDK script) -->
    <!-- <script src="https://www.paypal.com/sdk/js?client-id=YOUR_CLIENT_ID&currency=USD"></script> -->

    <!-- Add the PayPal button script -->
    <script>
        paypal.Buttons({
            createOrder: function (data, actions) {
                // Set up the transaction
                return actions.order.create({
                    purchase_units: [{
                        amount: {
                            value: totalPrice.toFixed(2),
                            currency_code: 'USD'
                        }
                    }]
                });
            },
            onApprove: function (data, actions) {
                // Capture the funds from the transaction
                return actions.order.capture().then(function (details) {
                    // Display a success message to the buyer
                    alert('Transaction completed by ' + details.payer.name.given_name);
                    // Redirect or perform additional actions as needed
                });
            }
        }).render('#paypal-button-container');
    </script>

</body>

</html>
